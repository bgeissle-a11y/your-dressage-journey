<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Physical Self-Assessment | Your Dressage Journey</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Work+Sans:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --color-primary: #8B7355;
            --color-secondary: #D4A574;
            --color-accent: #C67B5C;
            --color-bg: #FAF8F5;
            --color-bg-secondary: #F5F1EB;
            --color-text: #3A3A3A;
            --color-text-light: #7A7A7A;
            --color-border: #E0D5C7;
            --shadow-soft: 0 2px 12px rgba(139, 115, 85, 0.08);
            --shadow-medium: 0 4px 24px rgba(139, 115, 85, 0.12);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Work Sans', sans-serif;
            background: linear-gradient(to bottom, var(--color-bg) 0%, var(--color-bg-secondary) 100%);
            color: var(--color-text);
            min-height: 100vh;
            padding: 20px;
            line-height: 1.6;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            padding: 40px 20px;
            margin-bottom: 40px;
            background: white;
            border-radius: 20px;
            box-shadow: var(--shadow-soft);
            border: 1px solid var(--color-border);
        }

        h1 {
            font-family: 'Playfair Display', serif;
            font-size: 2.8em;
            font-weight: 700;
            color: var(--color-primary);
            margin-bottom: 8px;
            letter-spacing: -0.5px;
        }

        .subtitle {
            font-size: 1.05em;
            color: var(--color-text-light);
            font-weight: 400;
            margin-bottom: 20px;
        }

        .intro-text {
            font-size: 0.95em;
            color: var(--color-text);
            line-height: 1.7;
            max-width: 700px;
            margin: 20px auto 0;
            padding: 20px;
            background: rgba(139, 115, 85, 0.05);
            border-radius: 12px;
            border: 1px solid rgba(139, 115, 85, 0.15);
        }

        .form-container {
            background: white;
            border-radius: 20px;
            padding: 0;
            box-shadow: var(--shadow-medium);
            border: 1px solid var(--color-border);
            overflow: hidden;
            margin-bottom: 30px;
        }

        .section {
            padding: 40px;
            border-bottom: 2px solid var(--color-bg-secondary);
        }

        .section:last-child {
            border-bottom: none;
        }

        .section-header {
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 3px solid var(--color-secondary);
        }

        .section-title {
            font-family: 'Playfair Display', serif;
            font-size: 1.8em;
            color: var(--color-primary);
            margin-bottom: 8px;
            font-weight: 600;
        }

        .section-description {
            color: var(--color-text-light);
            font-size: 0.95em;
            font-style: italic;
        }

        .question-group {
            margin-bottom: 35px;
        }

        .question-group:last-child {
            margin-bottom: 0;
        }

        .question-label {
            display: block;
            font-weight: 600;
            font-size: 1.1em;
            margin-bottom: 12px;
            color: var(--color-primary);
            line-height: 1.5;
        }

        .sub-question {
            font-weight: 500;
            font-size: 0.95em;
            margin: 15px 0 8px 0;
            color: var(--color-text);
        }

        .help-text {
            font-size: 0.9em;
            color: var(--color-text-light);
            margin-top: 6px;
            font-style: italic;
        }

        textarea {
            width: 100%;
            min-height: 120px;
            padding: 14px 16px;
            border: 2px solid var(--color-border);
            border-radius: 10px;
            font-family: 'Work Sans', sans-serif;
            font-size: 1em;
            background: white;
            transition: all 0.3s ease;
            color: var(--color-text);
            resize: vertical;
            line-height: 1.6;
        }

        textarea:focus {
            outline: none;
            border-color: var(--color-primary);
            box-shadow: 0 0 0 3px rgba(139, 115, 85, 0.1);
        }

        textarea.short {
            min-height: 80px;
        }

        input[type="text"] {
            width: 100%;
            padding: 14px 16px;
            border: 2px solid var(--color-border);
            border-radius: 10px;
            font-family: 'Work Sans', sans-serif;
            font-size: 1em;
            background: white;
            transition: all 0.3s ease;
            color: var(--color-text);
        }

        input[type="text"]:focus {
            outline: none;
            border-color: var(--color-primary);
            box-shadow: 0 0 0 3px rgba(139, 115, 85, 0.1);
        }

        .radio-group {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-bottom: 15px;
        }

        .radio-option {
            display: flex;
            align-items: center;
            padding: 14px 18px;
            border: 2px solid var(--color-border);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            background: white;
        }

        .radio-option:hover {
            border-color: var(--color-secondary);
            background: rgba(212, 165, 116, 0.05);
        }

        .radio-option.selected {
            border-color: var(--color-primary);
            background: rgba(139, 115, 85, 0.08);
        }

        input[type="radio"] {
            margin-right: 12px;
            width: 20px;
            height: 20px;
            cursor: pointer;
            accent-color: var(--color-primary);
        }

        .conditional-section {
            display: none;
            margin-top: 20px;
            padding: 20px;
            background: rgba(139, 115, 85, 0.05);
            border-radius: 10px;
            border: 1px solid rgba(139, 115, 85, 0.15);
        }

        .conditional-section.active {
            display: block;
        }

        .slider-container {
            padding: 30px 0;
        }

        .slider-wrapper {
            position: relative;
            padding: 0 20px;
        }

        input[type="range"] {
            width: 100%;
            height: 12px;
            border-radius: 6px;
            background: linear-gradient(to right, #C67B5C, #D4A574, #8B7355, #6B8E5F);
            outline: none;
            -webkit-appearance: none;
            margin: 20px 0;
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 28px;
            height: 28px;
            border-radius: 50%;
            background: white;
            border: 4px solid var(--color-primary);
            cursor: pointer;
            box-shadow: 0 2px 12px rgba(0, 0, 0, 0.2);
            transition: all 0.2s ease;
        }

        input[type="range"]::-webkit-slider-thumb:hover {
            transform: scale(1.15);
            box-shadow: 0 3px 16px rgba(0, 0, 0, 0.3);
        }

        input[type="range"]::-moz-range-thumb {
            width: 28px;
            height: 28px;
            border-radius: 50%;
            background: white;
            border: 4px solid var(--color-primary);
            cursor: pointer;
            box-shadow: 0 2px 12px rgba(0, 0, 0, 0.2);
            transition: all 0.2s ease;
        }

        input[type="range"]::-moz-range-thumb:hover {
            transform: scale(1.15);
            box-shadow: 0 3px 16px rgba(0, 0, 0, 0.3);
        }

        .slider-labels {
            display: flex;
            justify-content: space-between;
            font-size: 0.9em;
            color: var(--color-text-light);
            margin-top: -10px;
            padding: 0 10px;
        }

        .slider-value-display {
            text-align: center;
            margin-top: 15px;
            padding: 12px;
            background: rgba(139, 115, 85, 0.1);
            border-radius: 8px;
            font-size: 1.1em;
            font-weight: 600;
            color: var(--color-primary);
        }

        .body-parts-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
            gap: 12px;
            margin-top: 15px;
        }

        .body-part-option {
            display: flex;
            align-items: center;
            padding: 12px 14px;
            border: 2px solid var(--color-border);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            background: white;
        }

        .body-part-option:hover {
            border-color: var(--color-secondary);
            background: rgba(212, 165, 116, 0.05);
        }

        .body-part-option.selected {
            border-color: var(--color-primary);
            background: rgba(139, 115, 85, 0.08);
        }

        input[type="checkbox"] {
            margin-right: 10px;
            width: 18px;
            height: 18px;
            cursor: pointer;
            accent-color: var(--color-primary);
        }

        .body-part-label {
            font-size: 0.9em;
            color: var(--color-text);
            cursor: pointer;
            flex: 1;
        }

        .button-group {
            display: flex;
            gap: 15px;
            justify-content: center;
            padding: 40px;
            background: var(--color-bg-secondary);
        }

        button {
            padding: 16px 32px;
            border: none;
            border-radius: 10px;
            font-family: 'Work Sans', sans-serif;
            font-size: 1.05em;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            letter-spacing: 0.3px;
        }

        .btn-primary {
            background: var(--color-primary);
            color: white;
            box-shadow: 0 4px 12px rgba(139, 115, 85, 0.25);
        }

        .btn-primary:hover {
            background: #6F5C44;
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(139, 115, 85, 0.3);
        }

        .btn-primary:disabled {
            background: var(--color-border);
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .completion-screen {
            display: none;
            text-align: center;
            padding: 60px 40px;
        }

        .completion-screen.active {
            display: block;
        }

        .completion-screen h2 {
            font-family: 'Playfair Display', serif;
            font-size: 2.5em;
            color: var(--color-primary);
            margin-bottom: 20px;
            font-weight: 600;
        }

        .completion-screen p {
            font-size: 1.1em;
            color: var(--color-text-light);
            margin-bottom: 30px;
            line-height: 1.8;
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 2em;
            }

            .section {
                padding: 30px 20px;
            }

            .button-group {
                flex-direction: column;
                padding: 30px 20px;
            }

            button {
                width: 100%;
            }

            .body-parts-grid {
                grid-template-columns: 1fr;
            }
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .form-container {
            animation: fadeIn 0.5s ease-out;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Physical Self-Assessment</h1>
            <p class="subtitle">Understanding your body's patterns and awareness</p>
            <div class="intro-text">
                This assessment helps us understand your physical strengths, challenges, and body awareness while riding. Your responses will inform personalized exercises and protocols in your Physical Foundations dashboard.
            </div>
        </header>

        <!-- Main Form -->
        <div class="form-container" id="mainForm">
            <!-- Section 1: Physical Profile -->
            <div class="section">
                <div class="section-header">
                    <h2 class="section-title">Your Physical Profile</h2>
                    <p class="section-description">Understanding your body's strengths and challenges.</p>
                </div>

                <div class="question-group">
                    <label class="question-label">What do you do for work, and how do you think it affects your body?</label>
                    <textarea id="occupation" placeholder="Examples: Software engineer — 8+ hours at a desk, tight hip flexors, forward head posture. Nurse — on my feet all day, lower back fatigue. Teacher — lots of standing but also hunching over papers. Barn manager — physically active but repetitive motions..."></textarea>
                    <p class="help-text">Consider: hours sitting or standing, repetitive motions, physical demands, stress levels. How does your work day set you up (or not) for riding?</p>
                </div>

                <div class="question-group">
                    <label class="question-label">What physical challenges do you have that impact your riding?</label>
                    <textarea id="physicalChallenges" placeholder="Examples: limited hip flexibility, shoulder tension, lower back pain, previous injuries, asymmetries, balance issues..."></textarea>
                    <p class="help-text">Be specific about how these challenges show up when you ride.</p>
                </div>

                <div class="question-group">
                    <label class="question-label">What physical strengths do you bring into the saddle?</label>
                    <textarea id="physicalStrengths" placeholder="Examples: strong core, flexible hips, good balance, endurance, body awareness, athletic background..."></textarea>
                    <p class="help-text">What does your body do well that supports your riding?</p>
                </div>

                <div class="question-group">
                    <label class="question-label">Do you have any known asymmetries?</label>
                    <textarea id="asymmetries" placeholder="Examples: one hip tighter than the other, shoulder higher on one side, always collapse through one side, dominant handedness affecting rein contact..."></textarea>
                    <p class="help-text">Include any patterns you've noticed or that have been pointed out by trainers, PTs, or bodyworkers.</p>
                </div>
            </div>

            <!-- Section 2: Coaching Cues -->
            <div class="section">
                <div class="section-header">
                    <h2 class="section-title">Physical Feedback You Receive</h2>
                    <p class="section-description">What cues and corrections do you hear most often?</p>
                </div>

                <div class="question-group">
                    <label class="question-label">What are the most common physical cues/instructions you hear from your riding coach or trainer?</label>
                    <textarea id="coachCues" placeholder="Examples: 'relax your shoulders,' 'sit deeper,' 'hands forward,' 'stop gripping,' 'open your hip angle,' 'soften your back'..."></textarea>
                    <p class="help-text">What position or movement corrections come up repeatedly in your lessons?</p>
                </div>

                <div class="question-group">
                    <label class="question-label">Are you currently working with a physical therapist, personal trainer, yoga instructor, or taking classes?</label>
                    <div class="radio-group">
                        <div class="radio-option" data-value="yes">
                            <input type="radio" name="ptStatus" value="yes" id="pt-yes">
                            <label for="pt-yes" style="margin: 0; cursor: pointer; flex: 1;">Yes</label>
                        </div>
                        <div class="radio-option" data-value="no">
                            <input type="radio" name="ptStatus" value="no" id="pt-no">
                            <label for="pt-no" style="margin: 0; cursor: pointer; flex: 1;">No</label>
                        </div>
                    </div>

                    <div class="conditional-section" id="ptDetailsSection">
                        <div class="sub-question">What type(s) of work are you doing?</div>
                        <input type="text" id="ptType" placeholder="Example: Physical therapy, personal training, yoga, pilates, etc.">
                        
                        <div class="sub-question">What physical cues do you regularly hear during these sessions?</div>
                        <textarea id="ptCues" class="short" placeholder="Examples: 'engage your core,' 'neutral spine,' 'shoulders down and back,' 'activate your glutes'..."></textarea>
                    </div>
                </div>
            </div>

            <!-- Section 3: Body Awareness -->
            <div class="section">
                <div class="section-header">
                    <h2 class="section-title">Kinesthetic Awareness</h2>
                    <p class="section-description">How well can you feel what your body is doing?</p>
                </div>

                <div class="question-group">
                    <label class="question-label">How is your kinesthetic awareness?</label>
                    <p class="help-text" style="margin-bottom: 20px;">Kinesthetic awareness is your ability to sense where your body parts are and what they're doing without looking. Can you feel when your shoulder creeps up? When your heel comes up? When you're crooked?</p>
                    
                    <div class="slider-container">
                        <div class="slider-wrapper">
                            <input type="range" id="kinestheticSlider" min="1" max="10" value="5">
                        </div>
                        <div class="slider-labels">
                            <span>"Huh?" - I don't feel much</span>
                            <span>"I feel it all" - Highly aware</span>
                        </div>
                        <div class="slider-value-display" id="kinestheticValue">
                            Level 5 - Moderate awareness
                        </div>
                    </div>
                </div>
            </div>

            <!-- Section 4: Tension Patterns -->
            <div class="section">
                <div class="section-header">
                    <h2 class="section-title">Your Tension Patterns</h2>
                    <p class="section-description">Where does stress show up in your body?</p>
                </div>

                <div class="question-group">
                    <label class="question-label">When you get tense or worried (in daily life), where do you feel it?</label>
                    <p class="help-text" style="margin-bottom: 15px;">Select all areas where you notice tension, tightness, or discomfort when stressed.</p>
                    
                    <div class="body-parts-grid" id="dailyTensionGrid">
                        <!-- Will be populated by JavaScript -->
                    </div>

                    <div class="sub-question">Any additional details about your daily tension patterns?</div>
                    <textarea id="dailyTensionDetails" class="short" placeholder="Example: My jaw gets tight, I hold my breath, my shoulders creep up toward my ears..."></textarea>
                </div>

                <div class="question-group">
                    <label class="question-label">When you get tense or worried while riding, where do you feel it?</label>
                    <p class="help-text" style="margin-bottom: 15px;">Select all areas where you notice tension when things get difficult in the saddle.</p>
                    
                    <div class="body-parts-grid" id="ridingTensionGrid">
                        <!-- Will be populated by JavaScript -->
                    </div>

                    <div class="sub-question">How is this similar to or different from your daily tension patterns?</div>
                    <textarea id="tensionComparison" class="short" placeholder="Example: Same pattern but more intense, completely different areas, I grip with my legs which I don't do off the horse..."></textarea>
                </div>
            </div>

            <div class="button-group">
                <button type="button" class="btn-primary" id="submitBtn" disabled>Complete Assessment</button>
            </div>
        </div>

        <!-- Completion Screen -->
        <div class="form-container completion-screen" id="completionScreen">
            <h2>âœ“ Assessment Complete</h2>
            <p>Thank you for taking the time to reflect on your physical patterns and body awareness. Your responses will help create personalized physical exercises and protocols tailored to your unique needs.</p>
            <div style="display: flex; gap: 15px; justify-content: center; flex-wrap: wrap;">
                <button class="btn-primary" onclick="downloadAssessment()">Download My Responses</button>
            </div>
        </div>
    </div>

    <script>
        const bodyParts = [
            'Jaw/Face',
            'Neck',
            'Shoulders',
            'Upper Back',
            'Lower Back',
            'Chest',
            'Abdomen/Core',
            'Hips',
            'Thighs',
            'Knees',
            'Calves/Ankles',
            'Hands/Wrists',
            'Arms',
            'Feet'
        ];

        // Populate body parts grids
        function populateBodyPartsGrid(gridId) {
            const grid = document.getElementById(gridId);
            
            bodyParts.forEach((part, index) => {
                const option = document.createElement('div');
                option.className = 'body-part-option';
                option.innerHTML = `
                    <input type="checkbox" id="${gridId}-${index}" value="${part}">
                    <label for="${gridId}-${index}" class="body-part-label">${part}</label>
                `;
                
                const checkbox = option.querySelector('input[type="checkbox"]');
                
                option.addEventListener('click', (e) => {
                    if (e.target.tagName !== 'INPUT') {
                        checkbox.click();
                    }
                });
                
                checkbox.addEventListener('change', () => {
                    if (checkbox.checked) {
                        option.classList.add('selected');
                    } else {
                        option.classList.remove('selected');
                    }
                    checkFormCompletion();
                });
                
                grid.appendChild(option);
            });
        }

        populateBodyPartsGrid('dailyTensionGrid');
        populateBodyPartsGrid('ridingTensionGrid');

        // Radio button handling
        document.querySelectorAll('.radio-option').forEach(option => {
            option.addEventListener('click', function() {
                const radio = this.querySelector('input[type="radio"]');
                const groupName = radio.name;
                
                document.querySelectorAll(`input[name="${groupName}"]`).forEach(r => {
                    r.closest('.radio-option').classList.remove('selected');
                });
                
                this.classList.add('selected');
                radio.checked = true;

                // Handle PT conditional section
                if (groupName === 'ptStatus') {
                    const ptSection = document.getElementById('ptDetailsSection');
                    if (radio.value === 'yes') {
                        ptSection.classList.add('active');
                    } else {
                        ptSection.classList.remove('active');
                        document.getElementById('ptType').value = '';
                        document.getElementById('ptCues').value = '';
                    }
                }
                
                checkFormCompletion();
            });
        });

        // Kinesthetic slider
        const slider = document.getElementById('kinestheticSlider');
        const sliderValue = document.getElementById('kinestheticValue');
        
        const sliderDescriptions = [
            '"Huh?" - I rarely feel what my body is doing',
            'Very low awareness - I need mirrors or video',
            'Low awareness - Often surprised by feedback',
            'Below average - I catch big things but miss details',
            'Moderate awareness - Sometimes aware, sometimes not',
            'Average - I notice obvious things',
            'Above average - I catch most things eventually',
            'Good awareness - I notice fairly quickly',
            'Very good - I feel most things in real-time',
            '"I feel it all" - Highly attuned to every sensation'
        ];
        
        slider.addEventListener('input', function() {
            const value = parseInt(this.value);
            sliderValue.textContent = `Level ${value} - ${sliderDescriptions[value - 1]}`;
        });

        // Check form completion
        function checkFormCompletion() {
            const requiredTextFields = [
                'occupation',
                'physicalChallenges',
                'physicalStrengths',
                'asymmetries',
                'coachCues',
                'dailyTensionDetails',
                'tensionComparison'
            ];
            
            const textFieldsFilled = requiredTextFields.every(id => {
                const field = document.getElementById(id);
                return field && field.value.trim() !== '';
            });
            
            // Check if PT radio is selected
            const ptSelected = document.querySelector('input[name="ptStatus"]:checked');
            
            // If PT is yes, check those fields too
            let ptFieldsFilled = true;
            if (ptSelected && ptSelected.value === 'yes') {
                ptFieldsFilled = document.getElementById('ptType').value.trim() !== '' &&
                                document.getElementById('ptCues').value.trim() !== '';
            }
            
            // Check if at least one tension area selected for each grid
            const dailyTensionSelected = document.querySelectorAll('#dailyTensionGrid input[type="checkbox"]:checked').length > 0;
            const ridingTensionSelected = document.querySelectorAll('#ridingTensionGrid input[type="checkbox"]:checked').length > 0;
            
            const submitBtn = document.getElementById('submitBtn');
            submitBtn.disabled = !(textFieldsFilled && ptSelected && ptFieldsFilled && dailyTensionSelected && ridingTensionSelected);
        }

        // Add event listeners to all text inputs
        document.querySelectorAll('textarea, input[type="text"]').forEach(field => {
            field.addEventListener('input', checkFormCompletion);
        });

        // Submit form
        document.getElementById('submitBtn').addEventListener('click', function() {
            const ptStatus = document.querySelector('input[name="ptStatus"]:checked').value;
            
            const assessment = {
                timestamp: new Date().toISOString(),
                physicalProfile: {
                    occupation: document.getElementById('occupation').value,
                    challenges: document.getElementById('physicalChallenges').value,
                    strengths: document.getElementById('physicalStrengths').value,
                    asymmetries: document.getElementById('asymmetries').value
                },
                coaching: {
                    coachCues: document.getElementById('coachCues').value,
                    ptStatus: ptStatus,
                    ptType: ptStatus === 'yes' ? document.getElementById('ptType').value : null,
                    ptCues: ptStatus === 'yes' ? document.getElementById('ptCues').value : null
                },
                awareness: {
                    kinestheticLevel: parseInt(document.getElementById('kinestheticSlider').value),
                    kinestheticDescription: sliderDescriptions[parseInt(document.getElementById('kinestheticSlider').value) - 1]
                },
                tensionPatterns: {
                    dailyAreas: Array.from(document.querySelectorAll('#dailyTensionGrid input[type="checkbox"]:checked')).map(cb => cb.value),
                    dailyDetails: document.getElementById('dailyTensionDetails').value,
                    ridingAreas: Array.from(document.querySelectorAll('#ridingTensionGrid input[type="checkbox"]:checked')).map(cb => cb.value),
                    comparison: document.getElementById('tensionComparison').value
                }
            };
            
            // Save to localStorage
            localStorage.setItem('physicalSelfAssessment', JSON.stringify(assessment));
            
            // Show completion screen
            document.getElementById('mainForm').style.display = 'none';
            document.getElementById('completionScreen').classList.add('active');
        });

        function downloadAssessment() {
            const assessment = JSON.parse(localStorage.getItem('physicalSelfAssessment'));
            
            let textContent = 'PHYSICAL SELF-ASSESSMENT\n';
            textContent += '='.repeat(80) + '\n\n';
            textContent += `Date: ${new Date(assessment.timestamp).toLocaleDateString('en-US', { 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit'
            })}\n\n`;
            
            textContent += 'YOUR PHYSICAL PROFILE\n';
            textContent += '='.repeat(80) + '\n\n';
            textContent += `Occupation & Impact:\n${assessment.physicalProfile.occupation}\n\n`;
            textContent += `Physical Challenges:\n${assessment.physicalProfile.challenges}\n\n`;
            textContent += `Physical Strengths:\n${assessment.physicalProfile.strengths}\n\n`;
            textContent += `Known Asymmetries:\n${assessment.physicalProfile.asymmetries}\n\n\n`;
            
            textContent += 'PHYSICAL FEEDBACK YOU RECEIVE\n';
            textContent += '='.repeat(80) + '\n\n';
            textContent += `Most Common Coach Cues:\n${assessment.coaching.coachCues}\n\n`;
            textContent += `Working with PT/Trainer: ${assessment.coaching.ptStatus === 'yes' ? 'Yes' : 'No'}\n`;
            if (assessment.coaching.ptStatus === 'yes') {
                textContent += `Type of Work: ${assessment.coaching.ptType}\n`;
                textContent += `PT/Trainer Cues: ${assessment.coaching.ptCues}\n`;
            }
            textContent += '\n\n';
            
            textContent += 'KINESTHETIC AWARENESS\n';
            textContent += '='.repeat(80) + '\n\n';
            textContent += `Level: ${assessment.awareness.kinestheticLevel}/10\n`;
            textContent += `Description: ${assessment.awareness.kinestheticDescription}\n\n\n`;
            
            textContent += 'YOUR TENSION PATTERNS\n';
            textContent += '='.repeat(80) + '\n\n';
            textContent += 'Daily Life Tension Areas:\n';
            assessment.tensionPatterns.dailyAreas.forEach(area => {
                textContent += `  â€¢ ${area}\n`;
            });
            textContent += `\nDetails: ${assessment.tensionPatterns.dailyDetails}\n\n`;
            
            textContent += 'Riding Tension Areas:\n';
            assessment.tensionPatterns.ridingAreas.forEach(area => {
                textContent += `  â€¢ ${area}\n`;
            });
            textContent += `\nComparison: ${assessment.tensionPatterns.comparison}\n`;
            
            // Download as text file
            const blob = new Blob([textContent], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const link = document.createElement('a');
            link.href = url;
            link.download = `physical-self-assessment-${new Date().toISOString().split('T')[0]}.txt`;
            link.click();
            URL.revokeObjectURL(url);
        }
    </script>
</body>
</html>
